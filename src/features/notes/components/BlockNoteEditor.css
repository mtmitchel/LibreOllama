/* 
  BlockNote Editor - Custom Structural Styles
  Theming is now handled by the `customLightTheme` object in `BlockNoteEditor.tsx`.
  This file should only contain structural overrides or minor adjustments 
  that are not covered by the theme object.
*/

/* Ensure BlockNote controls appear above other UI elements like context menus */
.bn-side-menu,
.bn-drag-handle {
  z-index: 100 !important;
}

/* Editor container and content area */
.blocknote-editor-container .ProseMirror {
  padding: var(--space-4) var(--space-6) !important;
  min-height: calc(100vh - 200px) !important; /* Ensure it fills vertical space */
  caret-color: var(--accent-primary) !important;
}

/* Remove all blue focus outlines and borders from editor */
.blocknote-editor-container,
.blocknote-editor-container .ProseMirror,
.blocknote-editor-container .ProseMirror:focus,
.blocknote-editor-container:focus,
.blocknote-editor-container:focus-within {
  outline: none !important;
  border: none !important;
  box-shadow: none !important;
  ring: none !important;
}

/* --- wrapper --- */
:root .bn-suggestion-menu,
.bn-suggestion-menu {
  border: 1px solid #e5e7eb !important;  /* light gray */
  background: #ffffff !important;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05) !important;
  border-radius: 0.5rem !important;
  padding: 0.25rem !important;
}

/* --- option row --- */
.bn-suggestion-menu [role='option'] {
  padding: 6px 8px !important;
  gap: 8px !important;
  font-size: 14px !important;
  border-radius: 0.25rem !important;
  margin: 0.125rem !important;
  background-color: transparent !important;
  transition: background-color 150ms !important;
}

/* purple icons */
.bn-suggestion-menu__icon svg {
  color: rgb(147, 51, 234) !important;
}

/* hide group headers & descriptions */
.bn-suggestion-menu__groupTitle,
.bn-suggestion-menu__subtitle {
  display: none !important;
}

/* shortcut badge restyle */
.bn-suggestion-menu__badge {
  background: #1f2937 !important;  /* dark background */
  color: #ffffff !important;
  border-radius: 0.375rem !important;
  padding: 0.125rem 0.5rem !important;
  font-size: 0.75rem !important;
  font-weight: 500 !important;
}

/* hover */
.bn-suggestion-menu [role='option']:hover {
  background: #f3f4f6 !important;
}


/*
  Hide the awkward blue frame around selected blocks (e.g., images).
  This targets both BlockNote's and the underlying Prosemirror editor's
  selection classes to ensure the default browser/library outline is removed.
*/
.bn-block-selected,
.ProseMirror-selectednode {
  outline: none !important;
  box-shadow: none !important;
}

/* Hyperlink styles */
.blocknote-editor-container a,
.ProseMirror a,
.bn-inline-content[data-content-type="link"] {
  color: #3b82f6 !important; /* Light blue */
  text-decoration: underline !important;
  cursor: pointer !important;
}

.blocknote-editor-container a:hover,
.ProseMirror a:hover,
.bn-inline-content[data-content-type="link"]:hover {
  color: #2563eb !important; /* Darker blue on hover */
  text-decoration: underline !important;
}

/* Dark mode hyperlink styles */
.dark .blocknote-editor-container a,
.dark .ProseMirror a,
.dark .bn-inline-content[data-content-type="link"] {
  color: #60a5fa !important; /* Light blue for dark mode */
}

.dark .blocknote-editor-container a:hover,
.dark .ProseMirror a:hover,
.dark .bn-inline-content[data-content-type="link"]:hover {
  color: #93bbfc !important; /* Lighter blue on hover in dark mode */
}

/* Text alignment styles */
.bn-block[data-text-alignment="left"] {
  text-align: left !important;
}

.bn-block[data-text-alignment="center"] {
  text-align: center !important;
}

.bn-block[data-text-alignment="right"] {
  text-align: right !important;
}

.bn-block[data-text-alignment="justify"] {
  text-align: justify !important;
}

/* Image alignment - using margin auto instead of flex to avoid cursor issues */
.bn-block[data-content-type="image"][data-text-alignment="center"] img {
  display: block !important;
  margin-left: auto !important;
  margin-right: auto !important;
}

.bn-block[data-content-type="image"][data-text-alignment="right"] img {
  display: block !important;
  margin-left: auto !important;
  margin-right: 0 !important;
}

/* Ensure the image container doesn't interfere with cursor positioning */
.bn-block[data-content-type="image"] {
  text-align: inherit !important;
}

/* Fix cursor positioning around images */
.bn-block[data-content-type="image"] .bn-visual-media {
  position: relative !important;
}

/* Ensure proper cursor behavior after images */
.bn-block[data-content-type="image"] + .bn-block {
  clear: both !important;
}

/* Table alignment - using margin auto instead of flex to avoid cursor issues */
.bn-block[data-content-type="table"][data-text-alignment="center"] .bn-table-container {
  margin-left: auto !important;
  margin-right: auto !important;
  display: table !important;
}

.bn-block[data-content-type="table"][data-text-alignment="right"] .bn-table-container {
  margin-left: auto !important;
  margin-right: 0 !important;
  display: table !important;
}

/* Ensure the table block doesn't interfere with cursor positioning */
.bn-block[data-content-type="table"] {
  text-align: inherit !important;
}