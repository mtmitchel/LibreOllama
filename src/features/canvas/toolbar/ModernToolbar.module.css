.toolbarContainer {
  position: absolute;
  bottom: 1.5rem;
  left: 0;
  right: 0;
  display: flex;
  justify-content: center;
  pointer-events: none; /* Allow clicks to pass through the container */
  z-index: 1000; /* Ensure toolbar is above other elements */
}

.modernToolbar {
  pointer-events: auto; /* Re-enable pointer events for the toolbar itself */
  display: flex;
  align-items: center;
  gap: 0.375rem; /* 6px */
  padding: 0.5rem; /* 8px */
  background-color: hsl(224, 27%, 15%); /* Corresponds to bg-surface or similar dark theme color */
  border: 1px solid hsl(224, 14%, 25%); /* Corresponds to border-border-subtle */
  border-radius: 0.875rem; /* 14px - more rounded like Figma */
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  backdrop-filter: blur(8px);
  transition: all 0.3s ease-in-out;
  z-index: 1001; /* Ensure toolbar content is above container */
}

.toolbarGroup {
  display: flex;
  align-items: center;
  gap: 0.25rem; /* 4px */
  pointer-events: auto; /* Ensure groups can receive clicks */
}

.toolButton {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 2.25rem; /* 36px */
  height: 2.25rem; /* 36px */
  background-color: transparent;
  border: none;
  border-radius: 0.5rem; /* 8px */
  color: hsl(210, 10%, 62%); /* text-text-secondary */
  cursor: pointer;
  transition: all 0.15s ease;
  position: relative;
  pointer-events: auto; /* Explicitly enable pointer events */
  z-index: 1002; /* Ensure buttons are clickable */
}

.toolButton:hover {
  background-color: hsl(224, 27%, 20%); /* A slightly lighter surface color */
  color: hsl(210, 40%, 98%); /* text-text-primary */
}

.toolButton.active {
  background-color: hsl(221, 83%, 53%); /* primary color */
  color: white;
  box-shadow: 0 0 0 1px hsl(221, 83%, 53%), 0 2px 4px rgba(0, 0, 0, 0.1);
}

.toolButton.disabled,
.toolButton:disabled {
  opacity: 0.4;
  cursor: not-allowed;
  pointer-events: none;
}

.toolButton.disabled:hover,
.toolButton:disabled:hover {
  background-color: transparent;
  color: hsl(210, 10%, 62%);
}

.separator {
  width: 1px;
  height: 1.5rem; /* 24px */
  background-color: hsl(224, 14%, 25%); /* border-border-subtle */
}

.dropdownContainer, .toolContainer {
  position: relative;
}

.stickyColorBar {
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  margin-bottom: 0.5rem;
  display: flex;
  gap: 4px;
  padding: 0.5rem;
  background-color: hsl(224, 27%, 15%);
  border: 1px solid hsl(224, 14%, 25%);
  border-radius: 0.75rem;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  z-index: 10;
}

.colorButton {
  width: 16px;
  height: 16px;
  border-radius: 50%;
  border: 2px solid white;
  cursor: pointer;
  transition: transform 0.2s;
}

.colorButton:hover {
  transform: scale(1.1);
}

.colorPickerContainer {
  position: relative;
}

.shapesDropdownContent {
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  margin-bottom: 0.5rem;
  background-color: hsl(224, 27%, 15%);
  border: 1px solid hsl(224, 14%, 25%);
  border-radius: 0.75rem;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  padding: 0.75rem;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  z-index: 10;
  min-width: fit-content;
}

.shapesDropdownSection {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.shapesDropdownHeader {
  font-size: 0.75rem;
  font-weight: 600;
  color: hsl(210, 10%, 62%);
  padding: 0.25rem 0.5rem;
  text-transform: uppercase;
}

.shapesGrid {
  display: flex;
  gap: 0.5rem;
  justify-content: center;
  align-items: center;
}

.shapesDropdownItem {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 2.5rem;
  height: 2.5rem;
  padding: 0.5rem;
  background-color: transparent;
  border: none;
  border-radius: 0.5rem;
  color: hsl(210, 10%, 62%);
  cursor: pointer;
  transition: all 0.2s ease;
  position: relative;
}

.shapesDropdownItem span {
  display: none;
}

.shapesDropdownItem:hover {
  background-color: hsl(224, 27%, 20%);
  color: hsl(210, 40%, 98%);
  transform: scale(1.05);
}

.shapesDropdownItem.active {
  background-color: hsl(221, 83%, 53%);
  color: white;
  box-shadow: 0 0 0 2px hsla(221, 83%, 53%, 0.3);
}

/* Connector Dropdown Styles */
.connectorsDropdownContent {
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  margin-bottom: 0.5rem;
  background-color: hsl(224, 27%, 15%);
  border: 1px solid hsl(224, 14%, 25%);
  border-radius: 0.75rem;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  padding: 0.5rem;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  z-index: 10;
  width: 140px;
  min-width: 120px;
}

.connectorsDropdownSection {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.connectorsDropdownHeader {
  font-size: 0.75rem;
  font-weight: 600;
  color: hsl(210, 10%, 62%);
  padding: 0.25rem 0.5rem;
  text-transform: uppercase;
}

.connectorsGrid {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.connectorsDropdownItem {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.375rem;
  background-color: transparent;
  border: none;
  border-radius: 0.375rem;
  color: hsl(210, 10%, 62%);
  cursor: pointer;
  transition: all 0.2s ease;
  text-align: left;
  width: 100%;
  font-size: 0.875rem;
}

.connectorsDropdownItem:hover {
  background-color: hsl(224, 27%, 20%);
  color: hsl(210, 40%, 98%);
}

.connectorsDropdownItem.active {
  background-color: hsl(221, 83%, 53%);
  color: white;
}
